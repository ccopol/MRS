<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SMAL &mdash; Stanford CNI MRS Library (SMAL) 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Stanford CNI MRS Library (SMAL) 0.1 documentation" href="index.html" />
    <link rel="next" title="Developing SMAL" href="development.html" />
    <link rel="prev" title="Organizing your data" href="data.html" />
  <meta name="keywords" content="MRI, Stanford, Python, Neuroscience, MR
  spectroscopy, MRS">

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development.html" title="Developing SMAL"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data.html" title="Organizing your data"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Stanford CNI MRS Library (SMAL) 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="data-analysis-in-smal">
<h1>Data analysis in SMAL<a class="headerlink" href="#data-analysis-in-smal" title="Permalink to this headline">¶</a></h1>
<div class="section" id="programming-with-smal">
<h2>Programming with SMAL<a class="headerlink" href="#programming-with-smal" title="Permalink to this headline">¶</a></h2>
<p>The simplest form of the analysis is in a python session (or script):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">MRS.api</span> <span class="kn">as</span> <span class="nn">mrs</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">mrs</span><span class="o">.</span><span class="n">GABA</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">fit_gaba</span><span class="p">()</span>
</pre></div>
</div>
<p>Where <cite>file_name</cite> is a variable which includes the full path to a nifti file
containing data organized as specified in &#8216;<a class="reference internal" href="data.html#data"><em>Organizing your data</em></a>&#8216;. Once these lines are
executed, the object <cite>G</cite> will now contain several attributes that quantify the
relative abundance of GABA and creatine, which can then be used in further
analysis.</p>
<p>We provide several examples of data analysis as  <a class="reference external" href="http://ipython.scipy.org">IPython</a> notebooks. These
can be viewed and downloaded <a class="reference external" href="http://nbviewer.ipython.org/github/cni/MRS/blob/master/ipynb/index.ipynb">here</a>.</p>
</div>
<div class="section" id="command-line-interface">
<h2>Command line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h2>
<p>A command line interface (CLI) is available to conduct basic analysis of MRS
data stored in a nifti files following the specification in &#8216;<a class="reference internal" href="data.html#data"><em>Organizing your data</em></a>&#8216;.</p>
<p>To run this interface run the following line in a shell session:</p>
<div class="highlight-python"><div class="highlight"><pre>mrs-analyze ~/.mrs_data/12_1_PROBE_MEGA_L_Occ.nii.gz --plot True --out_file ~/tmp/mrs.csv
</pre></div>
</div>
<p>Where you can replace the full-path to the input file with the file you are
analyzing. This command will analyze the data, produce a plot with the sum
spectra (echo on + echo off), the difference spectra (echo on - echo off), and
the fit of the creatine and GABA models to these data, together with their
calculated areas under the curves. If you do not want to produce plots, exclude
the <cite>&#8211;plot True</cite>.  In addition, it would save a file under <cite>~/tmp/mrs.csv</cite>
with the frequency bands (in ppm) and the spectra (echo on, echo off and
difference) as a function of frequency band. You can use this file for further
analysis (e.g. using other modeling techniques).</p>
<p>To explore all the options in the CLI run the following line
in a shell session:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mrs</span><span class="o">-</span><span class="n">analyze</span>
</pre></div>
</div>
<p>This will print a list of the input options to the CLI.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">  

<h4> Site Navigation </h4>
  <ul class="simple">
  <li><a href="index.html">Home</a> </li>
  <li><a href="getting_started.html">Getting started</a> </li>
  <li><a href="reference/index.html">Module reference</a> </li>
  <li><a href="development.html">Development</a> </li>
  </ul>
  
<h4> Stanford CNI </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://cni.stanford.edu/">CNI Home Page</a></li>
    <li><a class="reference external"
	href="https://scitran.stanford.edu/">PoST</a></li>
    <li><a class="reference external"
	href="https://cni.stanford.edu/nims/">NIMS</a></li>
    <li><a class="reference external"
	href="http://cni.stanford.edu/wiki/Main_Page">Wiki</a></li>
  </ul>


  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Data analysis in SMAL</a><ul>
<li><a class="reference internal" href="#programming-with-smal">Programming with SMAL</a></li>
<li><a class="reference internal" href="#command-line-interface">Command line interface</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data.html"
                        title="previous chapter">Organizing your data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="development.html"
                        title="next chapter">Developing SMAL</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/analysis.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
  
<div id="searchbox-site" style="display: none">
  <h3>Search this site</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="13" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development.html" title="Developing SMAL"
             >next</a> |</li>
        <li class="right" >
          <a href="data.html" title="Organizing your data"
             >previous</a> |</li>
        <li><a href="index.html">Stanford CNI MRS Library (SMAL) 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2014, Ariel Rokem, Grace Tang, Stanford CNI.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<!-- Global footer snippet start -->
<div id="global-footer">
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-54034205-1");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>